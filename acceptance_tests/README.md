# Acceptance tests on Otus

### Files organization

 * ```./code``` : class and library code support for testing
 
   * ```handlers/``` : "static" classes for specific things needed in all tests
 
 * ```downloads/``` : download directory, created by makefile
 
 * ```output/``` : directory, created by makefile, for output like screenshots and test results
 
 * ```tests/``` : directory with the test files, organized by the platform directory (which contains a template.js file as an example)
 
 * ```.env.staging```: custom env file, with constants that can be setted by parameter (like show browser, otus login data)
 
 * ```jest.config.js``` : "main file" - config file, including test files path array (```testMatch``` attribute)
 


### Environment

To reinstall (deleting all files generated by ```npm install```), run ```make reinstall```.

### Run

For run all tests (defined in jest.config): 

 * ```npm run show``` to run as headfull (show browser)

 * ```npm run headless``` to use defult headless mode
 
 You can run in custom mode by passing any parameters defined in the file ```.env.staging```.

### Results

At the end of the run, files will be generated in ```output/test_result```, one for each test file and with the same name:

 * ```<test file name>-result.txt``` if all test passed
 * ```<test file name>-fails.txt``` if same test fail
